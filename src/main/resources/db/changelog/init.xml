<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog logicalFilePath="db.changelog-1.0.xml" xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">

    <changeSet author="nikita.ojamae" id="init-schema">
        <sql splitStatements="false">
            CREATE TABLE product_category
            (
                id          SERIAL PRIMARY KEY,
                name        varchar(255),
                description varchar,
                created_at  timestamp,
                created_by  varchar(255),
                updated_at  timestamp,
                updated_by  varchar(255)
            );

            CREATE TABLE manufacturer
            (
                id         SERIAL PRIMARY KEY,
                name       varchar(255),
                created_at timestamp,
                created_by varchar(255),
                updated_at timestamp,
                updated_by varchar(255)
            );

            CREATE TABLE image
            (
                id           SERIAL PRIMARY KEY,
                content_type varchar(255),
                name         varchar(255),
                content      bytea,
                created_at timestamp,
                created_by varchar(255),
                updated_at timestamp,
                updated_by varchar(255)
            );

            CREATE TABLE product
            (
                id SERIAL PRIMARY KEY,
                name varchar(255),
                description varchar,
                price decimal,
                product_category INTEGER REFERENCES product_category (id),
                manufacturer INTEGER REFERENCES manufacturer (id),
                image INTEGER REFERENCES image (id),
                created_at timestamp,
                created_by varchar(255),
                updated_at timestamp,
                updated_by varchar(255)
            );
        </sql>
    </changeSet>
</databaseChangeLog>